{"version":3,"sources":["uni-app:///main.js","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?92fe","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?c8f8","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?6773","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?5544","uni-app:///pages/star-card/star-card.vue","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?fec1","webpack:///D:/私活/xiyiye/pages/star-card/star-card.vue?cc7e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","starStats","totalShared","totalReceived","totalReward","computed","myStarCards","isLogin","onLoad","onShow","onPullDownRefresh","methods","createStarCardAction","shareStarCardAction","receiveStarCardAction","getMyStarCards","getStarCardStats","formatDate","initPage","refreshData","uni","title","Promise","console","loadStats","stats","createStarCard","content","confirmText","success","url","itemList","types","type","doCreateStarCard","rewardAmount","result","getCardTitle","trial","coupon","stored","getDefaultReward","receiveStarCard","editable","placeholderText","res","doReceiveStarCard","shareCode","showCancel","shareCard","shareContent","path","imageUrl","withShareTicket","menus","viewCardDetail","getStatusText","active","expired","used","onShareAppMessage"],"mappings":"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","file":"pages/star-card/star-card.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/star-card/star-card.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./star-card.vue?vue&type=template&id=70e8f3de&scoped=true&\"\nvar renderjs\nimport script from \"./star-card.vue?vue&type=script&lang=js&\"\nexport * from \"./star-card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./star-card.vue?vue&type=style&index=0&id=70e8f3de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70e8f3de\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/star-card/star-card.vue\"\nexport default component.exports","export * from \"-!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./star-card.vue?vue&type=template&id=70e8f3de&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.myStarCards.length\n  var l0 =\n    g0 > 0\n      ? _vm.__map(_vm.myStarCards, function (card, __i0__) {\n          var $orig = _vm.__get_orig(card)\n          var m0 = _vm.getStatusText(card.status)\n          var m1 = _vm.formatDate(card.createTime)\n          var m2 = _vm.formatDate(card.expireTime)\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./star-card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./star-card.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"star-card-page\">\r\n    <!-- 统计信息 -->\r\n    <view class=\"stats-section\">\r\n      <view class=\"stats-card\">\r\n        <view class=\"stats-item\">\r\n          <text class=\"stats-number\">{{ starStats.totalShared || 0 }}</text>\r\n          <text class=\"stats-label\">累计分享</text>\r\n        </view>\r\n        <view class=\"stats-divider\"></view>\r\n        <view class=\"stats-item\">\r\n          <text class=\"stats-number\">{{ starStats.totalReceived || 0 }}</text>\r\n          <text class=\"stats-label\">累计接收</text>\r\n        </view>\r\n        <view class=\"stats-divider\"></view>\r\n        <view class=\"stats-item\">\r\n          <text class=\"stats-number\">{{ starStats.totalReward || 0 }}</text>\r\n          <text class=\"stats-label\">累计奖励</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 操作按钮 -->\r\n    <view class=\"action-section\">\r\n      <button type=\"primary\" size=\"default\" @click=\"createStarCard\" class=\"create-btn\">\r\n        创建海星分享卡\r\n      </button>\r\n      <button type=\"default\" size=\"default\" @click=\"receiveStarCard\" class=\"receive-btn\">\r\n        接收海星卡\r\n      </button>\r\n    </view>\r\n\r\n    <!-- 我的海星卡列表 -->\r\n    <view class=\"cards-section\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">我的海星卡</text>\r\n        <text class=\"section-desc\">分享给好友，双方获得奖励</text>\r\n      </view>\r\n      \r\n      <view class=\"card-list\" v-if=\"myStarCards.length > 0\">\r\n        <view class=\"card-item\" v-for=\"card in myStarCards\" :key=\"card.id\">\r\n          <view class=\"card-header\">\r\n            <text class=\"card-title\">{{ card.title || '海星分享卡' }}</text>\r\n            <view class=\"card-status\" :class=\"card.status\">\r\n              {{ getStatusText(card.status) }}\r\n            </view>\r\n          </view>\r\n          \r\n          <view class=\"card-content\">\r\n            <view class=\"reward-info\">\r\n              <text class=\"reward-label\">奖励金额:</text>\r\n              <text class=\"reward-amount\">¥{{ card.rewardAmount }}</text>\r\n            </view>\r\n            <view class=\"card-info\">\r\n              <text class=\"info-item\">分享码: {{ card.shareCode }}</text>\r\n              <text class=\"info-item\">创建时间: {{ formatDate(card.createTime) }}</text>\r\n              <text class=\"info-item\">有效期: {{ formatDate(card.expireTime) }}</text>\r\n            </view>\r\n          </view>\r\n          \r\n          <view class=\"card-actions\">\r\n            <button size=\"mini\" @click=\"shareCard(card)\" :disabled=\"card.status !== 'active'\">\r\n              分享给好友\r\n            </button>\r\n            <button size=\"mini\" type=\"default\" @click=\"viewCardDetail(card)\">\r\n              查看详情\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 空状态 -->\r\n      <view class=\"empty-state\" v-else>\r\n        <image src=\"/static/images/empty-star.png\" class=\"empty-image\" />\r\n        <text class=\"empty-text\">暂无海星卡</text>\r\n        <text class=\"empty-desc\">创建海星卡分享给好友获得奖励</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 海星卡说明 -->\r\n    <view class=\"help-section\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">海星卡说明</text>\r\n      </view>\r\n      <view class=\"help-content\">\r\n        <view class=\"help-item\">\r\n          <text class=\"help-title\">1. 什么是海星分享卡？</text>\r\n          <text class=\"help-desc\">海星分享卡是一种分享奖励机制，您创建卡片后分享给好友，好友接收后双方都可以获得奖励。</text>\r\n        </view>\r\n        <view class=\"help-item\">\r\n          <text class=\"help-title\">2. 如何获得奖励？</text>\r\n          <text class=\"help-desc\">创建海星卡并分享给好友，好友接收并完成首次购买后，您和好友都可以获得相应的现金奖励。</text>\r\n        </view>\r\n        <view class=\"help-item\">\r\n          <text class=\"help-title\">3. 奖励规则</text>\r\n          <text class=\"help-desc\">• 每张海星卡的有效期为30天\\n• 奖励金额根据当前活动确定\\n• 奖励将直接发放到您的账户余额\\n• 每人最多可同时拥有10张有效海星卡</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { formatDate } from '@/utils/index'\r\nimport { cloudApi } from '@/services/cloud'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      starStats: {\r\n        totalShared: 0,\r\n        totalReceived: 0,\r\n        totalReward: 0\r\n      }\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    ...mapGetters({\r\n      myStarCards: 'starCard/myStarCards',\r\n      isLogin: 'user/isLogin'\r\n    })\r\n  },\r\n  \r\n  onLoad() {\r\n    this.initPage()\r\n  },\r\n  \r\n  onShow() {\r\n    this.refreshData()\r\n  },\r\n  \r\n  onPullDownRefresh() {\r\n    this.refreshData()\r\n  },\r\n  \r\n  methods: {\r\n    ...mapActions({\r\n      createStarCardAction: 'starCard/createStarCard',\r\n      shareStarCardAction: 'starCard/shareStarCard',\r\n      receiveStarCardAction: 'starCard/receiveStarCard',\r\n      getMyStarCards: 'starCard/getMyStarCards',\r\n      getStarCardStats: 'starCard/getStarCardStats'\r\n    }),\r\n    \r\n    // 格式化日期\r\n    formatDate(date) {\r\n      return formatDate(date, 'YYYY-MM-DD')\r\n    },\r\n    \r\n    // 初始化页面\r\n    async initPage() {\r\n      await this.refreshData()\r\n    },\r\n    \r\n    // 刷新数据\r\n    async refreshData() {\r\n      try {\r\n        uni.showLoading({ title: '加载中...' })\r\n        \r\n        // 并行加载数据\r\n        await Promise.all([\r\n          this.getMyStarCards(),\r\n          this.loadStats()\r\n        ])\r\n      } catch (error) {\r\n        console.error('页面数据加载失败:', error)\r\n      } finally {\r\n        uni.hideLoading()\r\n        uni.stopPullDownRefresh()\r\n      }\r\n    },\r\n    \r\n    // 加载统计数据\r\n    async loadStats() {\r\n      try {\r\n        const stats = await this.getStarCardStats()\r\n        if (stats) {\r\n          this.starStats = stats\r\n        }\r\n      } catch (error) {\r\n        console.error('加载统计数据失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 创建海星卡\r\n    async createStarCard() {\r\n      if (!this.isLogin) {\r\n        uni.showModal({\r\n          title: '提示',\r\n          content: '请先登录',\r\n          confirmText: '去登录',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: '/pages/login/login'\r\n              })\r\n            }\r\n          }\r\n        })\r\n        return\r\n      }\r\n      \r\n      // 显示创建选项\r\n      uni.showActionSheet({\r\n        itemList: ['创建免费试用卡', '创建优惠券卡', '创建储值卡'],\r\n        success: async (res) => {\r\n          const types = ['trial', 'coupon', 'stored']\r\n          const type = types[res.tapIndex]\r\n          \r\n          await this.doCreateStarCard(type)\r\n        }\r\n      })\r\n    },\r\n    \r\n    // 执行创建海星卡\r\n    async doCreateStarCard(type) {\r\n      try {\r\n        const result = await this.createStarCardAction({\r\n          type,\r\n          title: this.getCardTitle(type),\r\n          rewardAmount: this.getDefaultReward(type)\r\n        })\r\n        \r\n        if (result.success) {\r\n          // 刷新数据\r\n          await this.refreshData()\r\n        }\r\n      } catch (error) {\r\n        console.error('创建海星卡失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 获取卡片标题\r\n    getCardTitle(type) {\r\n      const titles = {\r\n        trial: '免费试用分享卡',\r\n        coupon: '优惠券分享卡',\r\n        stored: '储值卡分享卡'\r\n      }\r\n      return titles[type] || '海星分享卡'\r\n    },\r\n    \r\n    // 获取默认奖励金额\r\n    getDefaultReward(type) {\r\n      const rewards = {\r\n        trial: 5.00,\r\n        coupon: 3.00,\r\n        stored: 10.00\r\n      }\r\n      return rewards[type] || 5.00\r\n    },\r\n    \r\n    // 接收海星卡\r\n    async receiveStarCard() {\r\n      if (!this.isLogin) {\r\n        uni.showModal({\r\n          title: '提示',\r\n          content: '请先登录',\r\n          confirmText: '去登录',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: '/pages/login/login'\r\n              })\r\n            }\r\n          }\r\n        })\r\n        return\r\n      }\r\n      \r\n      uni.showModal({\r\n        title: '输入分享码',\r\n        content: '请输入好友分享的海星卡分享码',\r\n        editable: true,\r\n        placeholderText: '请输入分享码',\r\n        success: async (res) => {\r\n          if (res.confirm && res.content) {\r\n            await this.doReceiveStarCard(res.content.trim())\r\n          }\r\n        }\r\n      })\r\n    },\r\n    \r\n    // 执行接收海星卡\r\n    async doReceiveStarCard(shareCode) {\r\n      try {\r\n        const result = await this.receiveStarCardAction({ shareCode })\r\n        \r\n        if (result.success) {\r\n          // 刷新数据\r\n          await this.refreshData()\r\n          \r\n          // 显示接收成功信息\r\n          uni.showModal({\r\n            title: '接收成功',\r\n            content: `您已成功接收海星卡，获得${result.data.rewardAmount}元奖励`,\r\n            showCancel: false\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.error('接收海星卡失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 分享卡片\r\n    async shareCard(card) {\r\n      try {\r\n        // 先调用分享接口\r\n        const result = await this.shareStarCardAction(card.id)\r\n        \r\n        if (result.success) {\r\n          // 生成分享内容\r\n          const shareContent = {\r\n            title: card.title,\r\n            path: `/pages/star-card/receive?shareCode=${card.shareCode}`,\r\n            imageUrl: '/static/images/star-share.png'\r\n          }\r\n          \r\n          // 调用微信分享\r\n          uni.showShareMenu({\r\n            withShareTicket: true,\r\n            menus: ['shareAppMessage', 'shareTimeline']\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.error('分享失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 查看卡片详情\r\n    viewCardDetail(card) {\r\n      uni.navigateTo({\r\n        url: `/pages/star-card/detail?id=${card.id}`\r\n      })\r\n    },\r\n    \r\n    // 获取状态文本\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        active: '有效',\r\n        expired: '已过期',\r\n        used: '已使用'\r\n      }\r\n      return statusMap[status] || status\r\n    }\r\n  },\r\n  \r\n  // 分享给好友\r\n  onShareAppMessage() {\r\n    return {\r\n      title: '快来领取海星分享卡，获得现金奖励！',\r\n      path: '/pages/star-card/star-card',\r\n      imageUrl: '/static/images/star-share.png'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.star-card-page {\r\n  background-color: #f8f8f8;\r\n  min-height: 100vh;\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n.stats-section {\r\n  padding: 30rpx 20rpx;\r\n  \r\n  .stats-card {\r\n    background: linear-gradient(135deg, #ff6b35, #ff8c42);\r\n    border-radius: 16rpx;\r\n    padding: 40rpx 30rpx;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    box-shadow: 0 4rpx 12rpx rgba(255, 107, 53, 0.3);\r\n    \r\n    .stats-item {\r\n      text-align: center;\r\n      flex: 1;\r\n      \r\n      .stats-number {\r\n        display: block;\r\n        font-size: 48rpx;\r\n        font-weight: bold;\r\n        color: #fff;\r\n        margin-bottom: 8rpx;\r\n      }\r\n      \r\n      .stats-label {\r\n        font-size: 24rpx;\r\n        color: rgba(255, 255, 255, 0.8);\r\n      }\r\n    }\r\n    \r\n    .stats-divider {\r\n      width: 1rpx;\r\n      height: 60rpx;\r\n      background-color: rgba(255, 255, 255, 0.3);\r\n    }\r\n  }\r\n}\r\n\r\n.action-section {\r\n  padding: 30rpx 20rpx;\r\n  display: flex;\r\n  gap: 20rpx;\r\n  \r\n  .create-btn,\r\n  .receive-btn {\r\n    flex: 1;\r\n  }\r\n}\r\n\r\n.cards-section {\r\n  margin: 20rpx;\r\n  background-color: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 30rpx;\r\n  \r\n  .section-header {\r\n    margin-bottom: 30rpx;\r\n    \r\n    .section-title {\r\n      font-size: 32rpx;\r\n      font-weight: bold;\r\n      color: #333;\r\n      margin-bottom: 8rpx;\r\n    }\r\n    \r\n    .section-desc {\r\n      font-size: 26rpx;\r\n      color: #666;\r\n    }\r\n  }\r\n  \r\n  .card-list {\r\n    .card-item {\r\n      background-color: #fafafa;\r\n      border-radius: 8rpx;\r\n      padding: 24rpx;\r\n      margin-bottom: 20rpx;\r\n      \r\n      .card-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 20rpx;\r\n        \r\n        .card-title {\r\n          font-size: 30rpx;\r\n          font-weight: bold;\r\n          color: #333;\r\n        }\r\n        \r\n        .card-status {\r\n          padding: 6rpx 16rpx;\r\n          border-radius: 20rpx;\r\n          font-size: 24rpx;\r\n          \r\n          &.active {\r\n            background-color: #e6f7ff;\r\n            color: #1890ff;\r\n          }\r\n          \r\n          &.expired {\r\n            background-color: #f6f6f6;\r\n            color: #999;\r\n          }\r\n          \r\n          &.used {\r\n            background-color: #f6f6f6;\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n      \r\n      .card-content {\r\n        margin-bottom: 20rpx;\r\n        \r\n        .reward-info {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 15rpx;\r\n          \r\n          .reward-label {\r\n            font-size: 26rpx;\r\n            color: #666;\r\n            margin-right: 10rpx;\r\n          }\r\n          \r\n          .reward-amount {\r\n            font-size: 32rpx;\r\n            color: #ff6b35;\r\n            font-weight: bold;\r\n          }\r\n        }\r\n        \r\n        .card-info {\r\n          .info-item {\r\n            display: block;\r\n            font-size: 26rpx;\r\n            color: #666;\r\n            margin-bottom: 8rpx;\r\n            \r\n            &:last-child {\r\n              margin-bottom: 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      .card-actions {\r\n        display: flex;\r\n        gap: 20rpx;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .empty-state {\r\n    text-align: center;\r\n    padding: 80rpx 0;\r\n    \r\n    .empty-image {\r\n      width: 200rpx;\r\n      height: 200rpx;\r\n      margin-bottom: 30rpx;\r\n    }\r\n    \r\n    .empty-text {\r\n      display: block;\r\n      font-size: 32rpx;\r\n      color: #333;\r\n      margin-bottom: 10rpx;\r\n    }\r\n    \r\n    .empty-desc {\r\n      font-size: 26rpx;\r\n      color: #666;\r\n    }\r\n  }\r\n}\r\n\r\n.help-section {\r\n  margin: 20rpx;\r\n  background-color: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 30rpx;\r\n  \r\n  .section-header {\r\n    margin-bottom: 30rpx;\r\n    \r\n    .section-title {\r\n      font-size: 32rpx;\r\n      font-weight: bold;\r\n      color: #333;\r\n    }\r\n  }\r\n  \r\n  .help-content {\r\n    .help-item {\r\n      margin-bottom: 30rpx;\r\n      \r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n      \r\n      .help-title {\r\n        display: block;\r\n        font-size: 28rpx;\r\n        font-weight: bold;\r\n        color: #333;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      \r\n      .help-desc {\r\n        font-size: 26rpx;\r\n        color: #666;\r\n        line-height: 1.6;\r\n        white-space: pre-line;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./star-card.vue?vue&type=style&index=0&id=70e8f3de&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./star-card.vue?vue&type=style&index=0&id=70e8f3de&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1764596893771\n      var cssReload = require(\"D:/工具类文件/HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}