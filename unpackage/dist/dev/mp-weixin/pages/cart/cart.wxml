<view class="cart-page data-v-0f00adf4"><block wx:if="{{$root.g0===0}}"><view class="empty-cart data-v-0f00adf4"><image class="empty-image data-v-0f00adf4" src="/static/images/empty-cart.png"></image><text class="empty-text data-v-0f00adf4">购物车还是空的</text><button class="go-shop-btn data-v-0f00adf4" type="primary" data-event-opts="{{[['tap',[['goToHome',['$event']]]]]}}" bindtap="__e">去逛逛</button></view></block><block wx:else><view class="cart-content data-v-0f00adf4"><view class="cart-header data-v-0f00adf4"><view data-event-opts="{{[['tap',[['toggleSelectAll',['$event']]]]]}}" class="select-all data-v-0f00adf4" bindtap="__e"><view class="{{['checkbox','data-v-0f00adf4',(allSelected)?'checked':'']}}"><block wx:if="{{allSelected}}"><text class="data-v-0f00adf4">✓</text></block></view><text class="select-text data-v-0f00adf4">全选</text></view><button class="clear-btn data-v-0f00adf4" type="default" disabled="{{$root.g1===0}}" data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" bindtap="__e">清空</button></view><view class="cart-list data-v-0f00adf4"><block wx:for="{{cartItems}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view class="cart-item data-v-0f00adf4"><view data-event-opts="{{[['tap',[['toggleItemSelect',['$0'],[[['cartItems','id',item.id]]]]]]]}}" class="item-checkbox data-v-0f00adf4" bindtap="__e"><view class="{{['checkbox','data-v-0f00adf4',(item.selected)?'checked':'']}}"><block wx:if="{{item.selected}}"><text class="data-v-0f00adf4">✓</text></block></view></view><image class="item-image data-v-0f00adf4" src="{{item.image}}" mode="aspectFill" data-event-opts="{{[['tap',[['viewProduct',['$0'],[[['cartItems','id',item.id]]]]]]]}}" bindtap="__e"></image><view class="item-info data-v-0f00adf4"><text data-event-opts="{{[['tap',[['viewProduct',['$0'],[[['cartItems','id',item.id]]]]]]]}}" class="item-name data-v-0f00adf4" bindtap="__e">{{item.name}}</text><block wx:if="{{item.description}}"><text class="item-desc data-v-0f00adf4">{{item.description}}</text></block><view class="item-bottom data-v-0f00adf4"><view class="price-row data-v-0f00adf4"><text class="price data-v-0f00adf4">{{"¥"+item.price}}</text><text class="unit data-v-0f00adf4">/斤</text></view><view class="quantity-control data-v-0f00adf4"><button size="mini" disabled="{{item.quantity<=1}}" data-event-opts="{{[['tap',[['decreaseQuantity',['$0'],[[['cartItems','id',item.id]]]]]]]}}" bindtap="__e" class="data-v-0f00adf4">-</button><text class="quantity data-v-0f00adf4">{{item.quantity}}</text><button size="mini" data-event-opts="{{[['tap',[['increaseQuantity',['$0'],[[['cartItems','id',item.id]]]]]]]}}" bindtap="__e" class="data-v-0f00adf4">+</button></view></view></view><view data-event-opts="{{[['tap',[['removeItem',['$0'],[[['cartItems','id',item.id]]]]]]]}}" class="item-delete data-v-0f00adf4" bindtap="__e"><text class="delete-icon data-v-0f00adf4">×</text></view></view></block></view><block wx:if="{{$root.g2>0}}"><view class="recommend-section data-v-0f00adf4"><view class="section-title data-v-0f00adf4"><text class="title-text data-v-0f00adf4">猜你喜欢</text></view><view class="recommend-grid data-v-0f00adf4"><block wx:for="{{recommendProducts}}" wx:for-item="product" wx:for-index="__i1__" wx:key="id"><view data-event-opts="{{[['tap',[['viewProduct',['$0'],[[['recommendProducts','id',product.id]]]]]]]}}" class="recommend-item data-v-0f00adf4" bindtap="__e"><image class="recommend-image data-v-0f00adf4" src="{{product.image}}" mode="aspectFill"></image><text class="recommend-name data-v-0f00adf4">{{product.name}}</text><view class="recommend-price data-v-0f00adf4"><text class="price data-v-0f00adf4">{{"¥"+product.price}}</text><text class="unit data-v-0f00adf4">/斤</text></view><button class="add-btn data-v-0f00adf4" size="mini" type="primary" data-event-opts="{{[['tap',[['addToCart',['$0'],[[['recommendProducts','id',product.id]]]]]]]}}" catchtap="__e">加入购物车</button></view></block></view></view></block></view></block><block wx:if="{{$root.g3>0}}"><view class="bottom-bar data-v-0f00adf4"><view class="left-info data-v-0f00adf4"><view data-event-opts="{{[['tap',[['toggleSelectAll',['$event']]]]]}}" class="select-all data-v-0f00adf4" bindtap="__e"><view class="{{['checkbox','data-v-0f00adf4',(allSelected)?'checked':'']}}"><block wx:if="{{allSelected}}"><text class="data-v-0f00adf4">✓</text></block></view><text class="select-text data-v-0f00adf4">全选</text></view><text class="total-info data-v-0f00adf4">合计:<text class="total-amount data-v-0f00adf4">{{"¥"+$root.g4}}</text></text></view><button class="checkout-btn data-v-0f00adf4" type="primary" disabled="{{selectedCount===0}}" data-event-opts="{{[['tap',[['goToCheckout',['$event']]]]]}}" bindtap="__e">{{'结算('+selectedCount+')'}}</button></view></block></view>